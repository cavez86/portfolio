@import 'tailwindcss';
@import 'tw-animate-css';

/* Terminal theme with customizable base color using relative colors */
@theme {
  /* Base color can be customized by user (default: terminal green) */
  --color-base: oklch(0.8 0.18 var(--theme-color, 145)); /* Default to green hue */

  /* All theme colors derived from --color-base using CSS relative color syntax */
  --color-background: oklch(from var(--color-base) 0.15 0.01 calc(h + 5)); /* Very dark with subtle hue tint */
  --color-foreground: oklch(from var(--color-base) 0.85 0.15 h); /* Bright neon text */

  --color-card: oklch(from var(--color-base) 0.18 0.01 calc(h + 5)); /* Slightly lighter than background */
  --color-card-foreground: oklch(from var(--color-base) 0.85 0.15 h);

  --color-popover: oklch(from var(--color-base) 0.12 0.01 calc(h + 5)); /* Darker than background for depth */
  --color-popover-foreground: oklch(from var(--color-base) 0.85 0.15 h);

  --color-primary: var(--color-base); /* Bright neon - terminal primary color */
  --color-primary-foreground: oklch(from var(--color-base) 0.15 0.01 calc(h + 5)); /* Dark text on primary */

  --color-secondary: oklch(from var(--color-base) 0.25 0.02 calc(h + 5)); /* Dark for secondary elements */
  --color-secondary-foreground: oklch(from var(--color-base) 0.75 0.12 h); /* Dimmer accent */

  --color-muted: oklch(from var(--color-base) 0.22 0.015 calc(h + 5)); /* Muted background */
  --color-muted-foreground: oklch(from var(--color-base) 0.55 0.08 h); /* Muted text */

  --color-accent: oklch(from var(--color-base) 0.65 0.18 calc(h + 3)); /* Accent color */
  --color-accent-foreground: oklch(from var(--color-base) 0.15 0.01 calc(h + 5));

  --color-destructive: oklch(0.6 0.2 25); /* Red-orange for errors */
  --color-destructive-foreground: oklch(0.95 0.01 120);

  --color-border: oklch(from var(--color-base) 0.35 0.05 h); /* Hue-tinted border */
  --color-input: oklch(from var(--color-base) 0.2 0.015 calc(h + 5)); /* Dark input background */
  --color-ring: var(--color-base); /* Bright focus ring */

  --color-radius: 0.25rem; /* Sharper corners for terminal feel */

  --color-chart-1: var(--color-base); /* Primary color */
  --color-chart-2: oklch(from var(--color-base) 0.75 0.15 calc(h + 50)); /* Shifted hue */
  --color-chart-3: oklch(from var(--color-base) 0.7 0.12 calc(h + 130)); /* Complementary */
  --color-chart-4: oklch(from var(--color-base) 0.85 0.15 calc(h - 55)); /* Triadic */
  --color-chart-5: oklch(0.65 0.2 25); /* Red-orange */

  --animate-scale-x: scale-x linear forwards;
  @keyframes scale-x {
    from {
      transform: scaleX(0);
    }
    to {
      transform: scaleX(1);
    }
  }

  --animate-accordion-down: accordion-down 0.2s ease-out;
  @keyframes accordion-down {
    from {
      height: 0;
      opacity: 0;
    }
    to {
      height: var(--radix-accordion-content-height);
      opacity: 1;
    }
  }

  --animate-accordion-up: accordion-up 0.2s ease-out;
  @keyframes accordion-up {
    from {
      height: var(--radix-accordion-content-height);
      opacity: 1;
    }
    to {
      height: 0;
      opacity: 0;
    }
  }
}

@utility animation-timeline-scroll {
  animation-timeline: scroll();
}

@utility animation-timeline-view {
  animation-timeline: view();
}

/* Add base styles after theme definition */
@layer base {
  * {
    @apply border-border transition-discrete;
  }

  body {
    @apply bg-background text-foreground min-w-[360px] font-mono;
  }

  /* Terminal-style text selection */
  ::selection {
    background-color: oklch(from var(--color-base) l c h / 0.3);
    color: var(--color-foreground);
  }

  /* Scrollbar styling for terminal theme */
  ::-webkit-scrollbar {
    width: 12px;
    height: 12px;
  }

  ::-webkit-scrollbar-track {
    background: var(--color-background);
  }

  ::-webkit-scrollbar-thumb {
    background: var(--color-border);
    border: 2px solid var(--color-background);
  }

  ::-webkit-scrollbar-thumb:hover {
    background: var(--color-primary);
  }
}
